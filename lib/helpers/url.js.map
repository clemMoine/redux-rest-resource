{"version":3,"sources":["../../src/helpers/url.js"],"names":["PROTOCOL_AND_DOMAIN_REGEX","NUMBER_REGEX","encodeUriQuery","val","pctEncodeSpaces","encodeURIComponent","replace","encodeUriSegment","parseUrlParams","url","split","reduce","urlParams","param","test","RegExp","isQueryParamValue","replaceUrlParamFromUrl","urlParam","match","leadingSlashes","tail","charAt","replaceQueryStringParamFromUrl","key","value","re","sep","indexOf","splitUrlByProtocolAndDomain","protocolAndDomain","remainderUrl"],"mappings":";;;;;AAAA;;AAEA,IAAMA,4BAA4B,mBAAlC;AACA,IAAMC,eAAe,UAArB;;AAEA;;;;;AAKO,IAAMC,0CAAiB,SAAjBA,cAAiB,CAACC,GAAD,EAAMC,eAAN;AAAA,SAC5BC,mBAAmBF,GAAnB,EACGG,OADH,CACW,OADX,EACoB,GADpB,EAEGA,OAFH,CAEW,OAFX,EAEoB,GAFpB,EAGGA,OAHH,CAGW,MAHX,EAGmB,GAHnB,EAIGA,OAJH,CAIW,OAJX,EAIoB,GAJpB,EAKGA,OALH,CAKW,MALX,EAKmBF,kBAAkB,KAAlB,GAA0B,GAL7C,CAD4B;AAAA,CAAvB;;AAQP;;;;;AAKO,IAAMG,8CAAmB,SAAnBA,gBAAmB;AAAA,SAC9BL,eAAeC,GAAf,EAAoB,IAApB,EACGG,OADH,CACW,OADX,EACoB,GADpB,EAEGA,OAFH,CAEW,OAFX,EAEoB,GAFpB,EAGGA,OAHH,CAGW,OAHX,EAGoB,GAHpB,CAD8B;AAAA,CAAzB;;AAMA,IAAME,0CAAiB,SAAjBA,cAAiB;AAAA,SAC5BC,IAAIC,KAAJ,CAAU,IAAV,EAAgBC,MAAhB,CAAuB,UAACC,SAAD,EAAYC,KAAZ,EAAsB;AAC3C,QAAI,CAACZ,aAAaa,IAAb,CAAkBD,KAAlB,CAAD,IAA6BA,KAA7B,IAAsC,IAAIE,MAAJ,kBAA0BF,KAA1B,cAA0CC,IAA1C,CAA+CL,GAA/C,CAA1C,EAA+F;AAC7FG,gBAAUC,KAAV,IAAmB;AACjB;AACAG,2BAAmB,IAAID,MAAJ,aAAqBF,KAArB,gBAAuCC,IAAvC,CAA4CL,GAA5C;AAFF,OAAnB;AAID;AACD,WAAOG,SAAP;AACD,GARD,EAQG,EARH,CAD4B;AAAA,CAAvB;;AAWA,IAAMK,0DAAyB,SAAzBA,sBAAyB,CAACR,GAAD,EAAMS,QAAN;AAAA,MAAgBZ,OAAhB,uEAA0B,EAA1B;AAAA,SACpCG,IAAIH,OAAJ,CACE,IAAIS,MAAJ,WAAmBG,QAAnB,cAAsC,GAAtC,CADF,EAEE,UAACC,KAAD,EAAQC,cAAR,EAAwBC,IAAxB;AAAA,WAAiC,CAACf,WAAWe,KAAKC,MAAL,CAAY,CAAZ,MAAmB,GAA9B,GAAoCF,cAApC,GAAqD,EAAtD,IAA4Dd,OAA5D,GAAsEe,IAAvG;AAAA,GAFF,CADoC;AAAA,CAA/B;;AAMA,IAAME,0EAAiC,SAAjCA,8BAAiC,CAACd,GAAD,EAAMe,GAAN,EAAWC,KAAX,EAAqB;AACjE,MAAMC,KAAK,IAAIX,MAAJ,YAAoBS,GAApB,gBAAoC,GAApC,CAAX;AACA,MAAMG,MAAMlB,IAAImB,OAAJ,CAAY,GAAZ,MAAqB,CAAC,CAAtB,GAA0B,GAA1B,GAAgC,GAA5C;AACA,SAAOnB,IAAIU,KAAJ,CAAUO,EAAV,IAAgBjB,IAAIH,OAAJ,CAAYoB,EAAZ,SAAqBF,GAArB,SAA4BC,KAA5B,QAAhB,QAA4DhB,GAA5D,GAAkEkB,GAAlE,GAAwEH,GAAxE,SAA+EC,KAAtF;AACD,CAJM;;AAMA,IAAMI,oEAA8B,SAA9BA,2BAA8B,MAAO;AAChD,MAAIC,0BAAJ;AACA,MAAMC,eAAetB,IAAIH,OAAJ,CAAYN,yBAAZ,EAAuC,iBAAS;AACnE8B,wBAAoBX,KAApB;AACA,WAAO,EAAP;AACD,GAHoB,CAArB;AAIA,SAAO,CAACW,iBAAD,EAAoBC,YAApB,CAAP;AACD,CAPM","file":"url.js","sourcesContent":["// https://github.com/angular/angular.js/blob/master/src/ngResource/resource.js#L473\n\nconst PROTOCOL_AND_DOMAIN_REGEX = /^https?:\\/\\/[^/]*/;\nconst NUMBER_REGEX = /^[0-9]+$/;\n\n/**\n * This method is intended for encoding *key* or *value* parts of query component. We need a\n * custom method because encodeURIComponent is too aggressive and encodes stuff that doesn't\n * have to be encoded per http://tools.ietf.org/html/rfc3986\n */\nexport const encodeUriQuery = (val, pctEncodeSpaces) =>\n  encodeURIComponent(val)\n    .replace(/%40/gi, '@')\n    .replace(/%3A/gi, ':')\n    .replace(/%24/g, '$')\n    .replace(/%2C/gi, ',')\n    .replace(/%20/g, pctEncodeSpaces ? '%20' : '+');\n\n/**\n * We need our custom method because encodeURIComponent is too aggressive and doesn't follow\n * http://www.ietf.org/rfc/rfc3986.txt with regards to the character set\n * (pchar) allowed in path segments\n */\nexport const encodeUriSegment = val =>\n  encodeUriQuery(val, true)\n    .replace(/%26/gi, '&')\n    .replace(/%3D/gi, '=')\n    .replace(/%2B/gi, '+');\n\nexport const parseUrlParams = url =>\n  url.split(/\\W/).reduce((urlParams, param) => {\n    if (!NUMBER_REGEX.test(param) && param && new RegExp(`(^|[^\\\\\\\\]):${param}(\\\\W|$)`).test(url)) {\n      urlParams[param] = {\n        // eslint-disable-line no-param-reassign\n        isQueryParamValue: new RegExp(`\\\\?.*=:${param}(?:\\\\W|$)`).test(url)\n      };\n    }\n    return urlParams;\n  }, {});\n\nexport const replaceUrlParamFromUrl = (url, urlParam, replace = '') =>\n  url.replace(\n    new RegExp(`(/?):${urlParam}(\\\\W|$)`, 'g'),\n    (match, leadingSlashes, tail) => (replace || tail.charAt(0) === '/' ? leadingSlashes : '') + replace + tail\n  );\n\nexport const replaceQueryStringParamFromUrl = (url, key, value) => {\n  const re = new RegExp(`([?&])${key}=.*?(&|$)`, 'i');\n  const sep = url.indexOf('?') !== -1 ? '&' : '?';\n  return url.match(re) ? url.replace(re, `$1${key}=${value}$2`) : `${url}${sep}${key}=${value}`;\n};\n\nexport const splitUrlByProtocolAndDomain = url => {\n  let protocolAndDomain;\n  const remainderUrl = url.replace(PROTOCOL_AND_DOMAIN_REGEX, match => {\n    protocolAndDomain = match;\n    return '';\n  });\n  return [protocolAndDomain, remainderUrl];\n};\n"]}