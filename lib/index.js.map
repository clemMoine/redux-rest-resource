{"version":3,"sources":["../src/index.js"],"names":["reduceReducers","combineReducers","mergeReducers","createResource","createResourceAction","fetch","HttpError","resourceName","name","resourcePluralName","pluralName","actions","givenActions","mergeDefaultActions","pick","pickedActions","args","resolvedActions","defaultActions","length","types","reducers","rootReducer","method","actionId","toLowerCase","scope","actionName"],"mappings":";;;;;;;;;AAGA;;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;oBACQA,c;;;;;;oBAAgBC,e;;;;;;oBAAiBC,a;;;QAGzBC,c,GAAAA,c;QA0BAC,oB,GAAAA,oB;;AApChB;;AACA;;AACA;;AACA;;;;AACA;;;;;;;;6NARA;AACA;;QAWQC,K,GAAAA,e;QAAOC,S,GAAAA,gB;AAER,SAASH,cAAT,OAOJ;AAAA,MANKI,YAML,QANDC,IAMC;AAAA,MALWC,kBAKX,QALDC,UAKC;AAAA,0BAJDC,OAIC;AAAA,MAJQC,YAIR,gCAJuB,EAIvB;AAAA,mCAHDC,mBAGC;AAAA,MAHDA,mBAGC,yCAHqB,IAGrB;AAAA,uBAFDC,IAEC;AAAA,MAFKC,aAEL,6BAFqB,EAErB;AAAA,MADEC,IACF;;AACD;AACA,MAAIC,kBAAkBJ,sBAAsB,wBAAa,EAAb,EAAiBK,wBAAjB,EAAiCN,YAAjC,CAAtB,GAAuEA,YAA7F;AACA;AACA,MAAIG,cAAcI,MAAlB,EAA0B;AACxBF,sBAAkBH,6BAAKG,eAAL,4BAAyBF,aAAzB,GAAlB;AACD;AACD,MAAMK,QAAQ,wBAAYH,eAAZ,aAA8BV,0BAA9B,EAA4CE,sCAA5C,IAAmEO,IAAnE,EAAd;AACA,MAAML,UAAU,6BAAcM,eAAd,aAAgCV,0BAAhC,EAA8CE,sCAA9C,IAAqEO,IAArE,EAAhB;AACA,MAAMK,WAAW,+BAAeJ,eAAf,aAAiCV,0BAAjC,EAA+CE,sCAA/C,IAAsEO,IAAtE,EAAjB;AACA,MAAMM,cAAc,kCAAkBD,QAAlB,aAA6Bd,0BAA7B,EAA2CE,sCAA3C,IAAkEO,IAAlE,EAApB;AACA,SAAO;AACLL,oBADK;AAELU,cAAUC,WAFL,EAEkB;AACvBA,4BAHK;AAILF;AAJK,GAAP;AAMD;;AAEM,SAAShB,oBAAT,QAA6G;AAAA,MAAxEG,YAAwE,SAA9EC,IAA8E;AAAA,MAA9CC,kBAA8C,SAA1DC,UAA0D;AAAA,2BAA1Ba,MAA0B;AAAA,MAA1BA,MAA0B,gCAAjB,KAAiB;AAAA,MAAPP,IAAO;;AAClH,MAAMQ,WAAWD,OAAOE,WAAP,EAAjB;AACA,MAAMC,QAAQ,0BAAcnB,YAAd,CAAd;AACA,MAAMa,QAAQ,uBAAW,uBAAWI,QAAX,EAAqB,EAACjB,0BAAD,EAAeE,sCAAf,EAArB,CAAX,EAAqEiB,KAArE,CAAd;AACA,MAAMC,aAAa,6BAAcH,QAAd,EAAwB,EAACjB,0BAAD,EAAeE,sCAAf,EAAxB,CAAnB;AACA,MAAME,8BAAYgB,UAAZ,EAAyB,4BAAaH,QAAb,aAAwBjB,0BAAxB,EAAsCE,sCAAtC,EAA0DiB,YAA1D,IAAoEV,IAApE,EAAzB,CAAN;AACA,MAAMK,+BAAaG,QAAb,EAAwB,8BAAcA,QAAd,aAAyBjB,0BAAzB,EAAuCE,sCAAvC,EAA2DiB,YAA3D,IAAqEV,IAArE,EAAxB,CAAN;AACA,MAAMM,cAAc,kCAAkBD,QAAlB,aAA6Bd,0BAA7B,EAA2CE,sCAA3C,IAAkEO,IAAlE,EAApB;AACA,SAAO;AACLL,oBADK;AAELU,sBAFK,EAEK;AACVC,4BAHK;AAILF;AAJK,GAAP;AAMD","file":"index.js","sourcesContent":["// https://github.com/angular/angular.js/blob/master/src/ngResource/resource.js\n// var User = $resource('/user/:userId', {userId:'@id'});\n\nimport {defaultActions} from './defaults';\nimport {getActionName, createAction, createActions} from './actions';\nimport {createReducer, createReducers, createRootReducer} from './reducers';\nimport {createType, createTypes, getTypesScope, scopeTypes} from './types';\nimport fetch, {HttpError} from './helpers/fetch';\nimport {pick, mergeObjects} from './helpers/util';\n\nexport * from './defaults';\nexport {reduceReducers, combineReducers, mergeReducers} from './reducers/helpers';\nexport {fetch, HttpError};\n\nexport function createResource({\n  name: resourceName,\n  pluralName: resourcePluralName,\n  actions: givenActions = {},\n  mergeDefaultActions = true,\n  pick: pickedActions = [],\n  ...args\n}) {\n  // Merge passed actions with common defaults\n  let resolvedActions = mergeDefaultActions ? mergeObjects({}, defaultActions, givenActions) : givenActions;\n  // Eventually pick selected actions\n  if (pickedActions.length) {\n    resolvedActions = pick(resolvedActions, ...pickedActions);\n  }\n  const types = createTypes(resolvedActions, {resourceName, resourcePluralName, ...args});\n  const actions = createActions(resolvedActions, {resourceName, resourcePluralName, ...args});\n  const reducers = createReducers(resolvedActions, {resourceName, resourcePluralName, ...args});\n  const rootReducer = createRootReducer(reducers, {resourceName, resourcePluralName, ...args});\n  return {\n    actions,\n    reducers: rootReducer, // breaking change\n    rootReducer,\n    types\n  };\n}\n\nexport function createResourceAction({name: resourceName, pluralName: resourcePluralName, method = 'GET', ...args}) {\n  const actionId = method.toLowerCase();\n  const scope = getTypesScope(resourceName);\n  const types = scopeTypes(createType(actionId, {resourceName, resourcePluralName}), scope);\n  const actionName = getActionName(actionId, {resourceName, resourcePluralName});\n  const actions = {[actionName]: createAction(actionId, {resourceName, resourcePluralName, scope, ...args})};\n  const reducers = {[actionId]: createReducer(actionId, {resourceName, resourcePluralName, scope, ...args})};\n  const rootReducer = createRootReducer(reducers, {resourceName, resourcePluralName, ...args});\n  return {\n    actions,\n    reducers, // new API\n    rootReducer,\n    types\n  };\n}\n"]}